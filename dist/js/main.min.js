"use strict";var Backbone=require("backbone"),$=require("jquery"),taskModel=Backbone.Model.extend({defaults:{name:"",description:"",status:"undone"},changeStatus:function(){},deleteItem:function(){}}),listModel=Backbone.Collection.extend({model:taskModel,url:"../data/taskList.json"}),tasksListView=Backbone.View.extend({el:"#page",template:_.template($("#tpl-todo-list").html()),events:{"click .delete-all":"deleteAllTasks","click .mark-all-done":"markAllTasksAsDone"},deleteAllTasks:function(n){},markAllTasksAsDone:function(n){},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},makeUI:function(){}}),taskListItemView=Backbone.View.extend({el:"#todo-list",template:_.template($("#tpl-todo-list-item").html()),events:{"click .delete-item":"deleteTask","click .mark-item-done":"markTaskAsDone"},deleteTask:function(n){},markTaskAsDone:function(n){},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},makeUI:function(){}}),taskDescriptionView=Backbone.View.extend({el:"#page",template:_.template($("#tpl-todo-list-item-page").html()),events:{"click .delete-item":"deleteTask","click .mark-item-done":"markTaskAsDone"},deleteTask:function(n){},markTaskAsDone:function(n){},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},makeUI:function(){}}),AppRouter=Backbone.Router.extend({routes:{"":"redirectToList","/list":"tasksList","/task:ID":"taskDescription"},initialize:function(){Backbone.history.start()},redirectToList:function(){appRouter.navigate("#/list",{trigger:!0})},tasksList:function(){var n=new n({model:listModel});n.render().makeUI()},taskDescription:function(n){var t=new t({model:taskModel})},execute:function(n,t,e){}}),appRouter=new AppRouter;(function(){function n(n){function t(t,e,r,i,u,o){for(;u>=0&&o>u;u+=n){var a=i?i[u]:u;r=e(r,t[a],a,t)}return r}return function(e,r,i,u){r=k(r,u,4);var o=!O(e)&&g.keys(e),a=(o||e).length,c=n>0?0:a-1;return arguments.length<3&&(i=e[o?o[c]:c],c+=n),t(e,r,i,o,c,a)}}function t(n){return function(t,e,r){e=b(e,r);for(var i=A(t),u=n>0?0:i-1;u>=0&&i>u;u+=n)if(e(t[u],u,t))return u;return-1}}function e(n,t,e){return function(r,i,u){var o=0,a=A(r);if("number"==typeof u)n>0?o=u>=0?u:Math.max(u+a,o):a=u>=0?Math.min(u+1,a):u+a+1;else if(e&&u&&a)return u=e(r,i),r[u]===i?u:-1;if(i!==i)return u=t(f.call(r,o,a),g.isNaN),u>=0?u+o:-1;for(u=n>0?o:a-1;u>=0&&a>u;u+=n)if(r[u]===i)return u;return-1}}function r(n,t){var e=B.length,r=n.constructor,i=g.isFunction(r)&&r.prototype||a,u="constructor";for(g.has(n,u)&&!g.contains(t,u)&&t.push(u);e--;)u=B[e],u in n&&n[u]!==i[u]&&!g.contains(t,u)&&t.push(u)}var i=this,u=i._,o=Array.prototype,a=Object.prototype,c=Function.prototype,l=o.push,f=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,d=c.bind,y=Object.create,m=function(){},g=function(n){return n instanceof g?n:this instanceof g?void(this._wrapped=n):new g(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):i._=g,g.VERSION="1.8.3";var k=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,u){return n.call(t,e,r,i,u)}}return function(){return n.apply(t,arguments)}},b=function(n,t,e){return null==n?g.identity:g.isFunction(n)?k(n,t,e):g.isObject(n)?g.matcher(n):g.property(n)};g.iteratee=function(n,t){return b(n,t,1/0)};var x=function(n,t){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var i=1;r>i;i++)for(var u=arguments[i],o=n(u),a=o.length,c=0;a>c;c++){var l=o[c];t&&void 0!==e[l]||(e[l]=u[l])}return e}},w=function(n){if(!g.isObject(n))return{};if(y)return y(n);m.prototype=n;var t=new m;return m.prototype=null,t},_=function(n){return function(t){return null==t?void 0:t[n]}},j=Math.pow(2,53)-1,A=_("length"),O=function(n){var t=A(n);return"number"==typeof t&&t>=0&&j>=t};g.each=g.forEach=function(n,t,e){t=k(t,e);var r,i;if(O(n))for(r=0,i=n.length;i>r;r++)t(n[r],r,n);else{var u=g.keys(n);for(r=0,i=u.length;i>r;r++)t(n[u[r]],u[r],n)}return n},g.map=g.collect=function(n,t,e){t=b(t,e);for(var r=!O(n)&&g.keys(n),i=(r||n).length,u=Array(i),o=0;i>o;o++){var a=r?r[o]:o;u[o]=t(n[a],a,n)}return u},g.reduce=g.foldl=g.inject=n(1),g.reduceRight=g.foldr=n(-1),g.find=g.detect=function(n,t,e){var r;return r=O(n)?g.findIndex(n,t,e):g.findKey(n,t,e),void 0!==r&&r!==-1?n[r]:void 0},g.filter=g.select=function(n,t,e){var r=[];return t=b(t,e),g.each(n,function(n,e,i){t(n,e,i)&&r.push(n)}),r},g.reject=function(n,t,e){return g.filter(n,g.negate(b(t)),e)},g.every=g.all=function(n,t,e){t=b(t,e);for(var r=!O(n)&&g.keys(n),i=(r||n).length,u=0;i>u;u++){var o=r?r[u]:u;if(!t(n[o],o,n))return!1}return!0},g.some=g.any=function(n,t,e){t=b(t,e);for(var r=!O(n)&&g.keys(n),i=(r||n).length,u=0;i>u;u++){var o=r?r[u]:u;if(t(n[o],o,n))return!0}return!1},g.contains=g.includes=g.include=function(n,t,e,r){return O(n)||(n=g.values(n)),("number"!=typeof e||r)&&(e=0),g.indexOf(n,t,e)>=0},g.invoke=function(n,t){var e=f.call(arguments,2),r=g.isFunction(t);return g.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},g.pluck=function(n,t){return g.map(n,g.property(t))},g.where=function(n,t){return g.filter(n,g.matcher(t))},g.findWhere=function(n,t){return g.find(n,g.matcher(t))},g.max=function(n,t,e){var r,i,u=-1/0,o=-1/0;if(null==t&&null!=n){n=O(n)?n:g.values(n);for(var a=0,c=n.length;c>a;a++)r=n[a],r>u&&(u=r)}else t=b(t,e),g.each(n,function(n,e,r){i=t(n,e,r),(i>o||i===-1/0&&u===-1/0)&&(u=n,o=i)});return u},g.min=function(n,t,e){var r,i,u=1/0,o=1/0;if(null==t&&null!=n){n=O(n)?n:g.values(n);for(var a=0,c=n.length;c>a;a++)r=n[a],u>r&&(u=r)}else t=b(t,e),g.each(n,function(n,e,r){i=t(n,e,r),(o>i||1/0===i&&1/0===u)&&(u=n,o=i)});return u},g.shuffle=function(n){for(var t,e=O(n)?n:g.values(n),r=e.length,i=Array(r),u=0;r>u;u++)t=g.random(0,u),t!==u&&(i[u]=i[t]),i[t]=e[u];return i},g.sample=function(n,t,e){return null==t||e?(O(n)||(n=g.values(n)),n[g.random(n.length-1)]):g.shuffle(n).slice(0,Math.max(0,t))},g.sortBy=function(n,t,e){return t=b(t,e),g.pluck(g.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var T=function(n){return function(t,e,r){var i={};return e=b(e,r),g.each(t,function(r,u){var o=e(r,u,t);n(i,r,o)}),i}};g.groupBy=T(function(n,t,e){g.has(n,e)?n[e].push(t):n[e]=[t]}),g.indexBy=T(function(n,t,e){n[e]=t}),g.countBy=T(function(n,t,e){g.has(n,e)?n[e]++:n[e]=1}),g.toArray=function(n){return n?g.isArray(n)?f.call(n):O(n)?g.map(n,g.identity):g.values(n):[]},g.size=function(n){return null==n?0:O(n)?n.length:g.keys(n).length},g.partition=function(n,t,e){t=b(t,e);var r=[],i=[];return g.each(n,function(n,e,u){(t(n,e,u)?r:i).push(n)}),[r,i]},g.first=g.head=g.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:g.initial(n,n.length-t)},g.initial=function(n,t,e){return f.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},g.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:g.rest(n,Math.max(0,n.length-t))},g.rest=g.tail=g.drop=function(n,t,e){return f.call(n,null==t||e?1:t)},g.compact=function(n){return g.filter(n,g.identity)};var S=function(n,t,e,r){for(var i=[],u=0,o=r||0,a=A(n);a>o;o++){var c=n[o];if(O(c)&&(g.isArray(c)||g.isArguments(c))){t||(c=S(c,t,e));var l=0,f=c.length;for(i.length+=f;f>l;)i[u++]=c[l++]}else e||(i[u++]=c)}return i};g.flatten=function(n,t){return S(n,t,!1)},g.without=function(n){return g.difference(n,f.call(arguments,1))},g.uniq=g.unique=function(n,t,e,r){g.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=b(e,r));for(var i=[],u=[],o=0,a=A(n);a>o;o++){var c=n[o],l=e?e(c,o,n):c;t?(o&&u===l||i.push(c),u=l):e?g.contains(u,l)||(u.push(l),i.push(c)):g.contains(i,c)||i.push(c)}return i},g.union=function(){return g.uniq(S(arguments,!0,!0))},g.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=A(n);i>r;r++){var u=n[r];if(!g.contains(t,u)){for(var o=1;e>o&&g.contains(arguments[o],u);o++);o===e&&t.push(u)}}return t},g.difference=function(n){var t=S(arguments,!0,!0,1);return g.filter(n,function(n){return!g.contains(t,n)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(n){for(var t=n&&g.max(n,A).length||0,e=Array(t),r=0;t>r;r++)e[r]=g.pluck(n,r);return e},g.object=function(n,t){for(var e={},r=0,i=A(n);i>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},g.findIndex=t(1),g.findLastIndex=t(-1),g.sortedIndex=function(n,t,e,r){e=b(e,r,1);for(var i=e(t),u=0,o=A(n);o>u;){var a=Math.floor((u+o)/2);e(n[a])<i?u=a+1:o=a}return u},g.indexOf=e(1,g.findIndex,g.sortedIndex),g.lastIndexOf=e(-1,g.findLastIndex),g.range=function(n,t,e){null==t&&(t=n||0,n=0),e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),u=0;r>u;u++,n+=e)i[u]=n;return i};var I=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var u=w(n.prototype),o=n.apply(u,i);return g.isObject(o)?o:u};g.bind=function(n,t){if(d&&n.bind===d)return d.apply(n,f.call(arguments,1));if(!g.isFunction(n))throw new TypeError("Bind must be called on a function");var e=f.call(arguments,2),r=function(){return I(n,r,t,this,e.concat(f.call(arguments)))};return r},g.partial=function(n){var t=f.call(arguments,1),e=function(){for(var r=0,i=t.length,u=Array(i),o=0;i>o;o++)u[o]=t[o]===g?arguments[r++]:t[o];for(;r<arguments.length;)u.push(arguments[r++]);return I(n,e,this,this,u)};return e},g.bindAll=function(n){var t,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e=arguments[t],n[e]=g.bind(n[e],n);return n},g.memoize=function(n,t){var e=function(r){var i=e.cache,u=""+(t?t.apply(this,arguments):r);return g.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return e.cache={},e},g.delay=function(n,t){var e=f.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},g.defer=g.partial(g.delay,g,1),g.throttle=function(n,t,e){var r,i,u,o=null,a=0;e||(e={});var c=function(){a=e.leading===!1?0:g.now(),o=null,u=n.apply(r,i),o||(r=i=null)};return function(){var l=g.now();a||e.leading!==!1||(a=l);var f=t-(l-a);return r=this,i=arguments,0>=f||f>t?(o&&(clearTimeout(o),o=null),a=l,u=n.apply(r,i),o||(r=i=null)):o||e.trailing===!1||(o=setTimeout(c,f)),u}},g.debounce=function(n,t,e){var r,i,u,o,a,c=function(){var l=g.now()-o;t>l&&l>=0?r=setTimeout(c,t-l):(r=null,e||(a=n.apply(u,i),r||(u=i=null)))};return function(){u=this,i=arguments,o=g.now();var l=e&&!r;return r||(r=setTimeout(c,t)),l&&(a=n.apply(u,i),u=i=null),a}},g.wrap=function(n,t){return g.partial(t,n)},g.negate=function(n){return function(){return!n.apply(this,arguments)}},g.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},g.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},g.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=null),e}},g.once=g.partial(g.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(n){if(!g.isObject(n))return[];if(v)return v(n);var t=[];for(var e in n)g.has(n,e)&&t.push(e);return M&&r(n,t),t},g.allKeys=function(n){if(!g.isObject(n))return[];var t=[];for(var e in n)t.push(e);return M&&r(n,t),t},g.values=function(n){for(var t=g.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=n[t[i]];return r},g.mapObject=function(n,t,e){t=b(t,e);for(var r,i=g.keys(n),u=i.length,o={},a=0;u>a;a++)r=i[a],o[r]=t(n[r],r,n);return o},g.pairs=function(n){for(var t=g.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=[t[i],n[t[i]]];return r},g.invert=function(n){for(var t={},e=g.keys(n),r=0,i=e.length;i>r;r++)t[n[e[r]]]=e[r];return t},g.functions=g.methods=function(n){var t=[];for(var e in n)g.isFunction(n[e])&&t.push(e);return t.sort()},g.extend=x(g.allKeys),g.extendOwn=g.assign=x(g.keys),g.findKey=function(n,t,e){t=b(t,e);for(var r,i=g.keys(n),u=0,o=i.length;o>u;u++)if(r=i[u],t(n[r],r,n))return r},g.pick=function(n,t,e){var r,i,u={},o=n;if(null==o)return u;g.isFunction(t)?(i=g.allKeys(o),r=k(t,e)):(i=S(arguments,!1,!1,1),r=function(n,t,e){return t in e},o=Object(o));for(var a=0,c=i.length;c>a;a++){var l=i[a],f=o[l];r(f,l,o)&&(u[l]=f)}return u},g.omit=function(n,t,e){if(g.isFunction(t))t=g.negate(t);else{var r=g.map(S(arguments,!1,!1,1),String);t=function(n,t){return!g.contains(r,t)}}return g.pick(n,t,e)},g.defaults=x(g.allKeys,!0),g.create=function(n,t){var e=w(n);return t&&g.extendOwn(e,t),e},g.clone=function(n){return g.isObject(n)?g.isArray(n)?n.slice():g.extend({},n):n},g.tap=function(n,t){return t(n),n},g.isMatch=function(n,t){var e=g.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),u=0;r>u;u++){var o=e[u];if(t[o]!==i[o]||!(o in i))return!1}return!0};var F=function(n,t,e,r){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof g&&(n=n._wrapped),t instanceof g&&(t=t._wrapped);var i=s.call(n);if(i!==s.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var u="[object Array]"===i;if(!u){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(g.isFunction(o)&&o instanceof o&&g.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var c=e.length;c--;)if(e[c]===n)return r[c]===t;if(e.push(n),r.push(t),u){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!F(n[c],t[c],e,r))return!1}else{var l,f=g.keys(n);if(c=f.length,g.keys(t).length!==c)return!1;for(;c--;)if(l=f[c],!g.has(t,l)||!F(n[l],t[l],e,r))return!1}return e.pop(),r.pop(),!0};g.isEqual=function(n,t){return F(n,t)},g.isEmpty=function(n){return null==n||(O(n)&&(g.isArray(n)||g.isString(n)||g.isArguments(n))?0===n.length:0===g.keys(n).length)},g.isElement=function(n){return!(!n||1!==n.nodeType)},g.isArray=h||function(n){return"[object Array]"===s.call(n)},g.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){g["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),g.isArguments(arguments)||(g.isArguments=function(n){return g.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(n){return"function"==typeof n||!1}),g.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},g.isNaN=function(n){return g.isNumber(n)&&n!==+n},g.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},g.isNull=function(n){return null===n},g.isUndefined=function(n){return void 0===n},g.has=function(n,t){return null!=n&&p.call(n,t)},g.noConflict=function(){return i._=u,this},g.identity=function(n){return n},g.constant=function(n){return function(){return n}},g.noop=function(){},g.property=_,g.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},g.matcher=g.matches=function(n){return n=g.extendOwn({},n),function(t){return g.isMatch(t,n)}},g.times=function(n,t,e){var r=Array(Math.max(0,n));t=k(t,e,1);for(var i=0;n>i;i++)r[i]=t(i);return r},g.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},g.now=Date.now||function(){return(new Date).getTime()};var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=g.invert(E),D=function(n){var t=function(t){return n[t]},e="(?:"+g.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};g.escape=D(E),g.unescape=D(N),g.result=function(n,t,e){var r=null==n?void 0:n[t];return void 0===r&&(r=e),g.isFunction(r)?r.call(n):r};var R=0;g.uniqueId=function(n){var t=++R+"";return n?n+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,V=function(n){return"\\"+q[n]};g.template=function(n,t,e){!t&&e&&(t=e),t=g.defaults({},t,g.templateSettings);var r=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),i=0,u="__p+='";n.replace(r,function(t,e,r,o,a){return u+=n.slice(i,a).replace($,V),i=a+t.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),t}),u+="';\n",t.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var o=new Function(t.variable||"obj","_",u)}catch(a){throw a.source=u,a}var c=function(n){return o.call(this,n,g)},l=t.variable||"obj";return c.source="function("+l+"){\n"+u+"}",c},g.chain=function(n){var t=g(n);return t._chain=!0,t};var z=function(n,t){return n._chain?g(t).chain():t};g.mixin=function(n){g.each(g.functions(n),function(t){var e=g[t]=n[t];g.prototype[t]=function(){var n=[this._wrapped];return l.apply(n,arguments),z(this,e.apply(g,n))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];g.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],z(this,e)}}),g.each(["concat","join","slice"],function(n){var t=o[n];g.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}).call(this);